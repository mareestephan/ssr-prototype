$(document).ready(function(){$("#Search").on("keyup",function(e){if(e.keyCode==13){var searchTerm=$("#Search").val();if(searchTerm==""){return false;}
var catCode=$(".searchSpan").data("categorycode");window.location.href="/search?searchTerm="+searchTerm+"&category="+catCode;}});$("#SearchButton").on("click",function(e){var searchTerm=$("#Search").val();if(searchTerm==""){return false;}
var catCode=$(".searchSpan").data("categorycode");window.location.href="/search?searchTerm="+searchTerm+"&category="+catCode;});$(".parentCategoryLink").on("click",function(e){var url=$(this).attr("data-Url");location.replace(url);});var cartTotal=Cookies.get("CartTotal");$("#CartTotal").html(cartTotal);var favouriteListTotal=Cookies.get("FavouritesTotal");$("#favouriteListTotalLoggedIn").html(favouriteListTotal);});function AddToCart(id,quantity){$.ajax({type:"GET",url:"/ajax/addlist/cart/"+quantity+"?sku="+encodeURIComponent(id),contentType:"application/json; charset=utf-8",success:function(userInfo){Cookies.set("userInfo",userInfo);return true;},"failure":function(response){return false;},"error":function(poop,poo){return false;}});return true;}
function RemoveFromCart(id,quantity){$.ajax({type:"GET",url:"/ajax/removelist/cart/"+quantity+"?sku="+encodeURIComponent(id),contentType:"application/json; charset=utf-8",success:function(response){return true;},"failure":function(response){return false;},"error":function(poop,poo){return false;}});return true;}
function AddToWishlist(id,quantity){$.ajax({type:"GET",url:"/ajax/addlist/wishlist/"+quantity+"?sku="+encodeURIComponent(id),contentType:"application/json; charset=utf-8",success:function(userInfo){Cookies.set("userInfo",userInfo);return true;},"failure":function(response){return false;},"error":function(poop,poo){return false;}});return true;}
function SwitchVariant(variantChanged,dimension,productCode,sku){$.ajax({type:"POST",url:"/ajax/SwitchVariant?variant="+encodeURIComponent(variantChanged)+"&dimension="+encodeURIComponent(dimension)+"&productCode="+encodeURIComponent(productCode)+"&sku="+encodeURIComponent(sku),beforeSend:function(xhr){xhr.setRequestHeader("RequestVerificationToken",$('input:hidden[name="__RequestVerificationToken"]').val());},contentType:"application/json; charset=utf-8",success:function(response){return response;},"failure":function(response){return false;},"error":function(poop,poo){return false;}});return "";}
function RemoveFromWishlist(id){$.ajax({type:"GET",url:"/ajax/removelist/wishlist/"+1+"?sku="+encodeURIComponent(id),contentType:"application/json; charset=utf-8",success:function(userInfo){Cookies.set("userInfo",userInfo);return true;},"failure":function(response){return false;},"error":function(poop,poo){return false;}});return true;}
function RemoveFromList(listId,productId){$.ajax({type:"GET",url:"/ajax/removelist/list/"+1+"?sku="+encodeURIComponent(productId)+"&listId="+listId,contentType:"application/json; charset=utf-8",success:function(userInfo){Cookies.set("userInfo",userInfo);return true;},"failure":function(response){return false;},"error":function(poop,poo){return false;}});return true;}
function ClearList(id){$.get("/Partials/_ListDetails?handler=Clear&id="+id,function(data){$("#currentPage").replaceWith(data);});return true;}
function CheckWishlist(){$.ajax({type:"GET",url:"/ajax/checkwishlist",contentType:"application/json; charset=utf-8",success:function(data){WishListIcons(data);},"failure":function(response){return false;},"error":function(poop,poo){return false;}});return true;}
function getParameterByName(name,url){if(!url)url=window.location.href;name=name.replace(/[\[\]]/g,'\\$&');var regex=new RegExp('[?&]'+name+'(=([^&#]*)|&|#|$)'),results=regex.exec(url);if(!results)return null;if(!results[2])return '';return decodeURIComponent(results[2].replace(/\+/g,' '));}
function gtmAddCart(sku,name,price,brand,category,variant,quantity){window.dataLayer=window.dataLayer||[];window.dataLayer.push({'event':'addToCart','ecommerce':{'currencyCode':'ZAR','add':{'products':[{'name':name,'id':sku,'price':price,'brand':brand,'category':category,'variant':variant,'quantity':quantity}]}}});}